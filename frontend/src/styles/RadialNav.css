/* RadialNav.css — hyper-real hardware: beveled metal, brushed grain, rim band,
   micro ticks, screws, LED notch, live lighting, and tactile icon caps.
*/

/* ===========================
   THEME & SIZING VARIABLES
   =========================== */
:root {
  --rn-accent: #0a66c2;
  --rn-text: #0f1115;
  --rn-bg: #e9ecef;           /* hardware grey */
  --rn-bg-plate: #dfe3e8;     /* plate highlight */
  --rn-border: #c4c9cf;       /* rim edge */

  --rn-size: 460px;
  --rn-ring-width: 22px;
  --rn-center: 118px;
  --rn-open-lift: 132px;

  --rn-sep-thick: 1.2deg;
  --rn-icon: 24px;
  --rn-label: 10px;

  --rn-shadow-sm: 0 4px 10px rgba(0,0,0,.10);
  --rn-shadow-md: 0 10px 24px rgba(0,0,0,.18);
  --rn-shadow-lg: 0 22px 46px rgba(0,0,0,.28);

  --rn-light-x: 50%;
  --rn-light-y: 30%;
}

[data-theme="dark"] {
  --rn-accent: #3ea7ff;
  --rn-text: #e9edf4;
  --rn-bg: #1b1f24;
  --rn-bg-plate: #222831;
  --rn-border: #2a2f38;

  --rn-shadow-sm: 0 4px 10px rgba(0,0,0,.35);
  --rn-shadow-md: 0 10px 24px rgba(0,0,0,.5);
  --rn-shadow-lg: 0 22px 46px rgba(0,0,0,.65);
}

/* ===========================
   ROOT + TOGGLE
   =========================== */
.rn-root {
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  z-index: 1500;
  pointer-events: none;
  transition: bottom .25s ease;
}
.rn-root.open {
  bottom: var(--rn-open-lift);
  pointer-events: auto;
}

/* Main toggle — beveled metal */
.rn-toggle {
  width: 62px; height: 62px; padding: 0; border-radius: 999px;
  border: 1px solid var(--rn-border);
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.9), rgba(255,255,255,.25) 40%, rgba(0,0,0,.12) 100%),
    var(--rn-bg-plate);
  color: var(--rn-text);
  display: flex; align-items: center; justify-content: center;
  line-height: 1; font-size: 22px; text-align: center;
  box-shadow:
    inset 0 2px 5px rgba(255,255,255,.35),
    inset 0 -3px 6px rgba(0,0,0,.25),
    var(--rn-shadow-md);
  cursor: pointer; pointer-events: auto;
  transition: transform .16s ease, background .2s ease, color .2s ease, box-shadow .2s ease;
}
.rn-toggle:hover {
  transform: translateY(-1px) scale(1.03);
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.95), rgba(255,255,255,.35) 42%, rgba(0,0,0,.10) 100%),
    var(--rn-bg-plate);
  box-shadow:
    inset 0 3px 8px rgba(255,255,255,.4),
    inset 0 -4px 8px rgba(0,0,0,.28),
    var(--rn-shadow-lg);
}
.rn-toggle:active {
  transform: translateY(1px) scale(.98);
  box-shadow:
    inset 0 1px 3px rgba(0,0,0,.35),
    inset 0 -1px 2px rgba(255,255,255,.08),
    var(--rn-shadow-sm);
}

/* ===========================
   WHEEL / FACE CONTAINER
   =========================== */
.rn-face {
  position: absolute;
  left: 50%; bottom: 56px;
  transform: translateX(-50%);
  width: var(--rn-size); height: var(--rn-size);
  pointer-events: auto; user-select: none;
  filter: drop-shadow(0 24px 40px rgba(0,0,0,.25));
}

/* Metallic outer ring */
.rn-ring {
  position: absolute; inset: 0; border-radius: 50%;
  background:
    radial-gradient(circle at var(--rn-light-x) var(--rn-light-y),
      rgba(255,255,255,.85) 0 34%,
      rgba(255,255,255,.18) 48%,
      rgba(0,0,0,.12) 70%,
      rgba(0,0,0,.18) 100%
    ),
    var(--rn-bg);
  box-shadow:
    0 0 0 1px var(--rn-border),
    inset 0 0 0 var(--rn-ring-width) rgba(255,255,255,.04),
    inset 0 14px 24px rgba(255,255,255,.20),
    inset 0 -18px 28px rgba(0,0,0,.18);
}
/* polished rim band */
.rn-ring::before {
  content: ""; position: absolute; inset: 10px; border-radius: 50%;
  background: conic-gradient(from 90deg, rgba(255,255,255,.22), rgba(0,0,0,.12), rgba(255,255,255,.22));
  mask: radial-gradient(circle at center,
      transparent 0 calc(50% - var(--rn-ring-width) - 8px),
      #000       calc(50% - var(--rn-ring-width) - 8px) calc(50% + var(--rn-ring-width) + 8px),
      transparent calc(50% + var(--rn-ring-width) + 8px)
  );
  opacity: .85;
}
/* brushed grain + screw heads */
.rn-ring::after {
  content: ""; position: absolute; inset: 0; border-radius: 50%;
  background:
    /* brushed */
    repeating-linear-gradient(-14deg, rgba(255,255,255,.06) 0 1.5px, rgba(0,0,0,.06) 1.5px 3px),
    /* screws near inner edge */
    radial-gradient(circle at 50% 0%, rgba(0,0,0,.35) 0 4px, transparent 5px) top/100% 100% no-repeat;
  mix-blend-mode: overlay; opacity: .35; pointer-events: none;
  mask:
    radial-gradient(circle at center, transparent 0 calc(50% - 42px), #000 calc(50% - 42px));
}

/* Engraved separators */
.rn-separators {
  --sep-color: rgba(0, 0, 0, 0.33);
  position: absolute; inset: 0; border-radius: 50%;
  transform: rotate(var(--rn-rotor, 0deg));
  background:
    repeating-conic-gradient(
      from 0deg,
      var(--sep-color) 0 var(--rn-sep-thick),
      transparent var(--rn-sep-thick) calc(360deg/var(--rn-count))
    );
  mask:
    radial-gradient(circle at center,
      transparent 0 calc(50% - var(--rn-ring-width) - 36px),
      #000       calc(50% - var(--rn-ring-width) - 36px) calc(50% + var(--rn-ring-width) + 2px),
      transparent calc(50% + var(--rn-ring-width) + 2px)
    );
  opacity: .55;
}
/* minute ticks near inner edge */
.rn-separators::after {
  content: ""; position: absolute; inset: 0; border-radius: 50%;
  background:
    repeating-conic-gradient(from 0deg, rgba(0,0,0,.25) 0 .6deg, transparent .6deg 6deg);
  mask:
    radial-gradient(circle at center,
      transparent 0 calc(50% - var(--rn-ring-width) - 20px),
      #000       calc(50% - var(--rn-ring-width) - 20px) calc(50% - var(--rn-ring-width) - 10px),
      transparent calc(50% - var(--rn-ring-width) - 10px)
    );
  opacity: .25; pointer-events: none;
}

/* Hover/selected wedge — luminous sweep + LED notch at sector mid */
.rn-wedge {
  position: absolute; inset: 0; border-radius: 50%;
  background:
    /* colored sweep */
    conic-gradient(
      from var(--sector-start, 0deg),
      color-mix(in srgb, var(--rn-accent) 22%, transparent) 0 var(--sector-sweep, 60deg),
      transparent var(--sector-sweep, 60deg) 360deg
    ),
    /* subtle inner glow */
    conic-gradient(
      from var(--sector-start, 0deg),
      rgba(255,255,255,.08) 0 var(--sector-sweep, 60deg),
      transparent var(--sector-sweep, 60deg) 360deg
    ),
    /* LED notch at mid-angle */
    conic-gradient(
      from var(--sector-mid, 0deg),
      rgba(255,255,255,.85) 0 .5deg,
      transparent .5deg 360deg
    );
  mask:
    radial-gradient(circle at center,
      transparent 0 calc(50% - var(--rn-ring-width) - 42px),
      #000       calc(50% - var(--rn-ring-width) - 42px) calc(50% + var(--rn-ring-width) + 6px),
      transparent calc(50% + var(--rn-ring-width) + 6px)
    );
  pointer-events: none;
}
/* floating LED dot that rides the mid-angle */
.rn-face::after {
  content: "";
  position: absolute;
  left: 50%; top: 50%;
  width: 8px; height: 8px; border-radius: 50%;
  background: radial-gradient(circle, #ffffff 0 40%, rgba(255,255,255,.2) 60%, rgba(0,0,0,.35) 100%);
  transform-origin: center;
  transform:
    rotate(var(--sector-mid, 0deg))
    translateX(calc(var(--rn-size)/2 - var(--rn-ring-width) - 14px))
    translateY(-50%) /* cancel rotation-origin drift */;
  filter: drop-shadow(0 0 6px rgba(255,255,255,.65));
  pointer-events: none;
}

/* Inner disc — machined plate with bevel + screws */
.rn-inner {
  position: absolute; left: 50%; top: 50%;
  width: var(--rn-center); height: var(--rn-center);
  transform: translate(-50%, -50%); border-radius: 50%;
  background:
    radial-gradient(circle at var(--rn-light-x) var(--rn-light-y),
      rgba(255,255,255,.9) 0 35%,
      rgba(255,255,255,.22) 55%,
      rgba(0,0,0,.18) 100%
    ),
    var(--rn-bg-plate);
  border: 1px solid var(--rn-border);
  box-shadow:
    inset 0 10px 18px rgba(255,255,255,.35),
    inset 0 -12px 18px rgba(0,0,0,.25),
    0 1px 0 rgba(255,255,255,.35),
    var(--rn-shadow-md);
}
.rn-inner::before {
  /* 6 screw heads around the inner plate */
  content: "";
  position: absolute; inset: 0; border-radius: 50%;
  background:
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat,
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat,
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat,
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat,
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat,
    radial-gradient(circle, rgba(0,0,0,.5) 0 3px, transparent 4px) center/8px 8px no-repeat;
  /* place screws with transforms */
  transform: translateZ(0);
  mask: radial-gradient(circle at center, transparent 0 calc(50% - 4px), #000 calc(50% - 4px));
}
.rn-inner::after {
  /* faint brushed texture */
  content: ""; position: absolute; inset: 0; border-radius: 50%;
  background:
    repeating-linear-gradient(90deg, rgba(255,255,255,.07) 0 1px, rgba(0,0,0,.05) 1px 2px);
  mix-blend-mode: overlay; opacity: .35; pointer-events: none;
}

/* Decorative glyph */
.rn-center {
  position: absolute; left: 50%; top: 50%;
  transform: translate(-50%, -50%); font-size: 18px;
  color: var(--rn-text); opacity: .8; pointer-events: none; line-height: 1; text-align: center;
}

/* ===========================
   ROTOR + ITEMS
   =========================== */
.rn-rotor {
  position: absolute; inset: 0; display: grid; place-items: center;
  transform: rotate(var(--rn-rotor, 0deg));
  transition: transform .25s cubic-bezier(.2,.8,.25,1);
}

/* Placement radius */
:root { --rn-radius: calc(var(--rn-size)/2 - var(--rn-ring-width) - 54px); }

/* Items — icon caps appear on interact (no boxes at rest) */
.rn-item {
  --i: 0;
  position: absolute; left: 50%; top: 50%;
  transform:
    rotate(calc(var(--i) * (360deg / var(--rn-count))))
    translateX(var(--rn-radius))
    rotate(calc(-1 * var(--i) * (360deg / var(--rn-count))));
  transform-origin: center;
  border: none; background: transparent; color: var(--rn-text);
  cursor: pointer; padding: 0; outline: none;
  transition: transform .18s ease, color .18s ease, opacity .18s ease, filter .18s ease;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.18));
}
.rn-item:hover {
  transform:
    rotate(calc(var(--i) * (360deg / var(--rn-count))))
    translateX(var(--rn-radius))
    rotate(calc(-1 * var(--i) * (360deg / var(--rn-count))))
    translateY(-1px) scale(1.07);
  color: var(--rn-accent);
}
.rn-item:active {
  transform:
    rotate(calc(var(--i) * (360deg / var(--rn-count))))
    translateX(var(--rn-radius))
    rotate(calc(-1 * var(--i) * (360deg / var(--rn-count))))
    translateY(1px) scale(.98);
  filter: drop-shadow(0 1px 0 rgba(0,0,0,.25));
}
.rn-item.is-focus { color: var(--rn-accent); }

.rn-icon {
  position: relative; display: grid; place-items: center;
  font-size: var(--rn-icon); line-height: 1; text-align: center;
}
.rn-item .rn-icon::before {
  content: ""; position: absolute; z-index: -1;
  width: calc(var(--rn-icon) * 2.0); height: calc(var(--rn-icon) * 2.0);
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.85), rgba(255,255,255,.2) 55%, rgba(0,0,0,.22) 100%),
    var(--rn-bg-plate);
  border: 1px solid var(--rn-border);
  box-shadow:
    inset 0 2px 4px rgba(255,255,255,.35),
    inset 0 -3px 6px rgba(0,0,0,.25),
    0 2px 4px rgba(0,0,0,.20);
  opacity: 0; transition: opacity .18s ease, transform .18s ease;
}
.rn-item:hover .rn-icon::before,
.rn-item.is-focus .rn-icon::before,
.rn-item:active .rn-icon::before { opacity: 1; }
.rn-item:active .rn-icon::before { transform: translateY(1px); }

.rn-label {
  display: block; margin-top: 4px;
  font-size: var(--rn-label); font-weight: 700; letter-spacing: .2px;
  opacity: .85; white-space: nowrap; text-align: center;
}

/* Touch targets */
@media (hover: none) and (pointer: coarse) {
  :root { --rn-icon: 26px; --rn-label: 11px; }
}

/* Motion sensitivity */
@media (prefers-reduced-motion: reduce) {
  .rn-toggle, .rn-rotor, .rn-item, .rn-item .rn-icon::before, .rn-face::after { transition: none !important; }
}
